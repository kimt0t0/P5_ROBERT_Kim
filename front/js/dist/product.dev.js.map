{"version":3,"sources":["product.js"],"names":["getProductId","productId","getProduct","product","hydrateProduct","URL","location","href","searchParams","get","fetch","then","httpBodyResponse","json","products","id","alert","error","productImgContainer","document","getElementById","productImg","createElement","appendChild","setAttribute","imageUrl","altTxt","textContent","name","price","description","scrollColors","colors","color","newColor","append"],"mappings":";;AAAA,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAC2BA,YAAY,EADvC;;AAAA;AACSC,UAAAA,SADT;AAAA;AAAA,0CAEyBC,UAAU,EAFnC;;AAAA;AAESC,UAAAA,OAFT;AAGGC,UAAAA,cAAc,CAACD,OAAD,CAAd;;AAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAD;;AAMA,SAASH,YAAT,GAAyB;AACrB,SAAO,IAAIK,GAAJ,CAAQC,QAAQ,CAACC,IAAjB,EAAuBC,YAAvB,CAAoCC,GAApC,CAAwC,IAAxC,CAAP;AACH;;AAED,SAASP,UAAT,GAAsB;AAClB,SAAOQ,KAAK,CAAC,oCAAD,CAAL,CACJC,IADI,CACC,UAASC,gBAAT,EAA2B;AAC/B,WAAOA,gBAAgB,CAACC,IAAjB,EAAP;AACD,GAHI,EAIJF,IAJI,CAIC,UAASG,QAAT,EAAmB;AACrB,WAAOA,QAAP;AACH,GANI,EAOJH,IAPI,CAOC,UAASG,QAAT,EAAmBb,SAAnB,EAA8B;AAAA;AAAA;AAAA;;AAAA;AAChC,2BAAgBa,QAAhB,8HAA0B;AAArBX,QAAAA,OAAqB;;AACtB,YAAIA,OAAO,CAACY,EAAR,IAAcd,SAAlB,EAA6B;AAAC,iBAAOE,OAAP;AAAgB,SAA9C,MACK;AACD,iBAAOa,KAAK,CAAE,qFAAF,CAAZ;AAAsG;AAC7G;AAL+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMnC,GAbI,WAcE,UAASC,KAAT,EAAgB;AACnBD,IAAAA,KAAK,CAACC,KAAD,CAAL;AACH,GAhBI,CAAP;AAiBD;;AAEH,SAASb,cAAT,CAAwBD,OAAxB,EAAiC;AAC7B;AACA,MAAMe,mBAAmB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAA5B;AACA,MAAMC,UAAU,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAnB;AACAJ,EAAAA,mBAAmB,CAACK,WAApB,CAAgCF,UAAhC;AACAA,EAAAA,UAAU,CAACG,YAAX,CAAwB,KAAxB,EAA+BrB,OAAO,CAACsB,QAAvC;AACAJ,EAAAA,UAAU,CAACG,YAAX,CAAwB,KAAxB,EAA+BrB,OAAO,CAACuB,MAAvC;AAEA;;AACAP,EAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCO,WAAjC,GAA+CxB,OAAO,CAACyB,IAAvD;AACA;;AACAT,EAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCO,WAAjC,GAA+CxB,OAAO,CAAC0B,KAAvD;AACA;;AACAV,EAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCO,WAAvC,GAAqDxB,OAAO,CAAC2B,WAA7D;AAEA;;AACA,MAAMC,YAAY,GAAGZ,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAArB;AAhB6B;AAAA;AAAA;;AAAA;AAiB7B,0BAAcjB,OAAO,CAAC6B,MAAtB,mIAA8B;AAAzBC,MAAAA,KAAyB;AAC1B,UAAMC,QAAQ,GAAGf,QAAQ,CAACG,aAAT,CAAuB,QAAvB,CAAjB;AACAY,MAAAA,QAAQ,CAACV,YAAT,CAAsB,OAAtB,EAA+BS,KAA/B;AACAC,MAAAA,QAAQ,CAACP,WAAT,GAAuBM,KAAvB;AACAF,MAAAA,YAAY,CAACI,MAAb,CAAoBD,QAApB;AACH;AAtB4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBhC","sourcesContent":["(async function() {\r\n    const productId = await getProductId();\r\n    const product = await getProduct();\r\n    hydrateProduct(product);\r\n})()\r\n\r\nfunction getProductId () {\r\n    return new URL(location.href).searchParams.get(\"id\");\r\n}\r\n\r\nfunction getProduct() {\r\n    return fetch(\"http://localhost:3000/api/products\")\r\n      .then(function(httpBodyResponse) {\r\n        return httpBodyResponse.json();\r\n      })\r\n      .then(function(products) {\r\n          return products;\r\n      })\r\n      .then(function(products, productId) {\r\n          for (product of products) {\r\n              if (product.id == productId) {return product;}\r\n              else {\r\n                  return alert( 'Aucun produit ne corresponed à la recherche ou le produit recherché n\\'existe plus.');}\r\n          }\r\n      })\r\n      .catch(function(error) {\r\n          alert(error);\r\n      });\r\n  }\r\n\r\nfunction hydrateProduct(product) {\r\n    /* Affichage image */\r\n    const productImgContainer = document.getElementById(\"item__img\");\r\n    const productImg = document.createElement(\"img\");\r\n    productImgContainer.appendChild(productImg);\r\n    productImg.setAttribute(\"src\", product.imageUrl);\r\n    productImg.setAttribute(\"alt\", product.altTxt);\r\n\r\n    /* Affichage titre */\r\n    document.getElementById(\"title\").textContent = product.name;\r\n    /* Affichage prix */\r\n    document.getElementById(\"price\").textContent = product.price;\r\n    /* Affichage description */\r\n    document.getElementById(\"description\").textContent = product.description;\r\n\r\n    /*Menu couleurs */\r\n    const scrollColors = document.getElementById(\"colors\");\r\n    for (color of product.colors) {\r\n        const newColor = document.createElement(\"option\");\r\n        newColor.setAttribute(\"value\", color);\r\n        newColor.textContent = color;\r\n        scrollColors.append(newColor);\r\n    }\r\n}"],"file":"product.dev.js"}