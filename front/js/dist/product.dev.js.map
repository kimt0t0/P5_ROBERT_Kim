{"version":3,"sources":["product.js"],"names":["getProduct","product","hydrateProduct","fetch","then","httpBodyResponse","json","products","productId","URL","location","href","searchParams","get","_id","error","alert","productImgContainer","document","getElementById","productImg","createElement","appendChild","setAttribute","imageUrl","altTxt","textContent","name","price","description","scrollColors","colors","color","newColor","append","Cart","inventory","localStorage","itemsCounter","itemsList","totalPrice","cart","cartProduct","quantity","addEventListener","e"],"mappings":";;;;AAAA;AACA,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACuBA,UAAU,EADjC;;AAAA;AACOC,UAAAA,OADP;AAEGC,UAAAA,cAAc,CAACD,OAAD,CAAd;;AAFH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAD;;AAKA,SAAeD,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA,4CACWG,KAAK,CAAC,oCAAD,CAAL,CACJC,IADI,CACC,UAASC,gBAAT,EAA2B;AAC/B,mBAAOA,gBAAgB,CAACC,IAAjB,EAAP;AACD,WAHI;AAIL;AAJK,WAKJF,IALI,CAKC,UAASG,QAAT,EAAmB;AACvB;AACA,gBAAIC,SAAS,GAAI,IAAIC,GAAJ,CAAQC,QAAQ,CAACC,IAAjB,EAAuBC,YAAvB,CAAoCC,GAApC,CAAwC,IAAxC,CAAjB;AACE;;AAHqB;AAAA;AAAA;;AAAA;AAIrB,mCAAgBN,QAAhB,8HAA0B;AAArBN,gBAAAA,OAAqB;;AACtB,oBAAIA,OAAO,CAACa,GAAR,IAAeN,SAAnB,EAA8B;AAC5B,yBAAOP,OAAP;AAAgB;AACrB;AAPoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,WAbI,WAcE,UAASc,KAAT,EAAgB;AACnBC,YAAAA,KAAK,CAACD,KAAD,CAAL;AACH,WAhBI,CADX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAoBA,SAAeb,cAAf,CAA8BD,OAA9B;AAAA;;AAAA;AAAA;AAAA;AAAA;AACI;AACIgB,UAAAA,mBAFR,GAE8BC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAF9B;AAGQC,UAAAA,UAHR,GAGqBF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAHrB;AAIIJ,UAAAA,mBAAmB,CAACK,WAApB,CAAgCF,UAAhC;AACAA,UAAAA,UAAU,CAACG,YAAX,CAAwB,KAAxB,EAA+BtB,OAAO,CAACuB,QAAvC;AACAJ,UAAAA,UAAU,CAACG,YAAX,CAAwB,KAAxB,EAA+BtB,OAAO,CAACwB,MAAvC;AAEA;;AACAP,UAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCO,WAAjC,GAA+CzB,OAAO,CAAC0B,IAAvD;AACA;;AACAT,UAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCO,WAAjC,GAA+CzB,OAAO,CAAC2B,KAAvD;AACA;;AACAV,UAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCO,WAAvC,GAAqDzB,OAAO,CAAC4B,WAA7D;AAEA;;AACIC,UAAAA,YAhBR,GAgBuBZ,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAhBvB;AAAA;AAAA;AAAA;AAAA;;AAiBI,4BAAclB,OAAO,CAAC8B,MAAtB,2HAA8B;AAAzBC,YAAAA,KAAyB;AACtBC,YAAAA,QADsB,GACXf,QAAQ,CAACG,aAAT,CAAuB,QAAvB,CADW;AAE1BY,YAAAA,QAAQ,CAACV,YAAT,CAAsB,OAAtB,EAA+BS,KAA/B;AACAC,YAAAA,QAAQ,CAACP,WAAT,GAAuBM,KAAvB;AACAF,YAAAA,YAAY,CAACI,MAAb,CAAoBD,QAApB;AACH;;AAtBL;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA;;AAEA;;;IACME,I,GACF,gBAAe;AAAA;;AACX,OAAKC,SAAL,GAAiBC,YAAjB;AACA,OAAKC,YAAL,GAAoB,CAApB;AACA,OAAKC,SAAL,GAAiB,EAAjB;AACA,OAAKC,UAAL,GAAkB,CAAlB;AACH;AAED;;AAEA;;AAEA;;;AAGJ,IAAIC,IAAI,GAAGN,IAAI,EAAf;;IAEMO,W,GACF,qBAAY5B,GAAZ,EAAiBkB,KAAjB,EAAwBW,QAAxB,EAAkC;AAAA;;AAC9B,OAAK7B,GAAL,GAAWA,GAAX;AAAiB;;AACjB,OAAKkB,KAAL,GAAaA,KAAb;AACA,OAAKW,QAAL,GAAgBA,QAAhB;AACH,C;AAGL;;;AACAzB,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCyB,gBAArC,CAAsD,OAAtD,EAA+D,UAASC,CAAT,EAAY;AACvE;;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACH,CAXD","sourcesContent":["/* CONTENU PARTIE PRODUIT */\r\n(async function() {\r\n    var product = await getProduct();\r\n    hydrateProduct(product);\r\n})()\r\n\r\nasync function getProduct() {\r\n    return fetch(\"http://localhost:3000/api/products\")\r\n      .then(function(httpBodyResponse) {\r\n        return httpBodyResponse.json();\r\n      })\r\n      /* récupération de l'ensemble des produits: */\r\n      .then(function(products) {\r\n        /* récupération id dans l'url: */\r\n        var productId =  new URL(location.href).searchParams.get(\"id\");\r\n          /* recherche du produit correspondant: */\r\n          for (product of products) { \r\n              if (product._id == productId) {  \r\n                return product;}\r\n          }\r\n      })\r\n      .catch(function(error) {\r\n          alert(error);\r\n      });\r\n  }\r\n\r\nasync function hydrateProduct(product) {\r\n    /* Affichage image */\r\n    var productImgContainer = document.getElementById(\"item__img\");\r\n    var productImg = document.createElement(\"img\");\r\n    productImgContainer.appendChild(productImg);\r\n    productImg.setAttribute(\"src\", product.imageUrl);\r\n    productImg.setAttribute(\"alt\", product.altTxt);\r\n\r\n    /* Affichage titre */\r\n    document.getElementById(\"title\").textContent = product.name;\r\n    /* Affichage prix */\r\n    document.getElementById(\"price\").textContent = product.price;\r\n    /* Affichage description */\r\n    document.getElementById(\"description\").textContent = product.description;\r\n\r\n    /*Menu couleurs */\r\n    var scrollColors = document.getElementById(\"colors\");\r\n    for (color of product.colors) {\r\n        var newColor = document.createElement(\"option\");\r\n        newColor.setAttribute(\"value\", color);\r\n        newColor.textContent = color;\r\n        scrollColors.append(newColor);\r\n    }\r\n}\r\n\r\n/* GESTION PANIER */\r\n\r\n/* Classe pour l'objet panier */\r\nclass Cart {\r\n    constructor () {\r\n        this.inventory = localStorage;\r\n        this.itemsCounter = 0;\r\n        this.itemsList = {};\r\n        this.totalPrice = 0;\r\n    }\r\n\r\n    /* fonction pour vérifier si un objet est déjà présent dans le panier */\r\n\r\n    /* fonction pour créer un nouvel objet dans le panier */\r\n\r\n    /* fonction pour ajouter une quantité à un objet existant dans le panier */\r\n}\r\n\r\nlet cart = Cart();\r\n\r\nclass cartProduct {\r\n    constructor(_id, color, quantity) {\r\n        this._id = _id ; /* ou utiliser le nom ? */\r\n        this.color = color;\r\n        this.quantity = quantity;\r\n    }\r\n}\r\n\r\n/* Déclenchement de la fonction d'ajout */\r\ndocument.getElementById(\"addToCart\").addEventListener(\"click\", function(e) {\r\n    /* CRÉER DES FONCTIONS DISTINCTES POUR CE QUI SUIT? : */\r\n    /* récupérer l'id du produit et stocker dans var _id*/\r\n\r\n    /* récupérer la couleur et stocker dans var color */\r\n\r\n    /* récupérer la quantité et stocker dans var quantity */\r\n\r\n    /* créer un objet newProduct */\r\n\r\n    /* ajouter le produit / la quantité au panier */\r\n});\r\n\r\n"],"file":"product.dev.js"}