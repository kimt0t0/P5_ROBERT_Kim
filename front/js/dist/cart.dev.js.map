{"version":3,"sources":["cart.js"],"names":["cart","localStorage","cartCounter","totalPrice","productId","productColor","productQuantity","productImgUrl","getProduct","id","fetch","then","httpBodyResponse","json","products","product","_id","error","alert","setFormAttributes","inputName","regexModel","min","max","title","setAttribute","hydrateDom","cartKey","testFormInput","reg","formInput","test","cartItem","document","createElement","cartItemImg","productImg","cartItemContent","cartItemContentDescr","cartItemContentTitle","cartItemContentColor","cartItemContentPrice","cartItemSettings","settingsQuantity","settingsQuantityText","settingsQuantityInput","deleteContainer","deleteText","getElementById","appendChild","imageUrl","altTxt","textContent","name","Number","price","addEventListener","e","target","value","console","log","removeItem","closest","remove","userForm","firstName","lastName","address","city","email","regNames","regAddress","regEmail","userInputs","Array","userInput","errorInput","trim","style","color","preventDefault","i","length","key","splitKey","split","getItem","pageContent"],"mappings":"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","sourcesContent":["/* *** VARIABLES *** */\r\nvar cart = localStorage;\r\n\r\nvar cartCounter = 0;\r\nvar totalPrice = 0;\r\n\r\nvar productId, productColor, productQuantity, productImgUrl;\r\n\r\n\r\n/* *** FONCTIONS *** */\r\n\r\n/* GÉNÉRAL */\r\n/* Accès aux infos produit sur serveur */\r\nasync function getProduct(id) {\r\n    return fetch(\"http://localhost:3000/api/products\")\r\n      .then(function(httpBodyResponse) {\r\n        return httpBodyResponse.json();\r\n      })\r\n      .then(function(products) {\r\n          for (product of products) { \r\n              if (product._id == id) {  \r\n                return product;}\r\n          }\r\n      })\r\n      .catch(function(error) {\r\n          alert(error);\r\n      });\r\n}\r\n\r\n/* Attributs du formulaire */\r\nasync function setFormAttributes(inputName, regexModel, min, max, title) {\r\n    inputName.setAttribute(\"pattern\", regexModel);\r\n    inputName.setAttribute(\"min-length\", min);\r\n    inputName.setAttribute(\"max-length\", max);\r\n    inputName.setAttribute(\"title\", title);\r\n}\r\n\r\n\r\n/* *** DOM DYNAMIQUE ***  */\r\nasync function hydrateDom(product, cartCounter, totalPrice, productQuantity, cartKey) {\r\n    /* Création balises */\r\n    let cartItem = document.createElement(\"article\");\r\n    let cartItemImg = document.createElement(\"div\");\r\n    let productImg = document.createElement(\"img\");\r\n\r\n    let cartItemContent = document.createElement(\"div\");\r\n    let cartItemContentDescr = document.createElement(\"div\");\r\n    let cartItemContentTitle = document.createElement(\"h2\");\r\n    let cartItemContentColor = document.createElement(\"p\");\r\n    let cartItemContentPrice = document.createElement(\"p\");\r\n\r\n\r\n    let cartItemSettings = document.createElement(\"div\");\r\n\r\n    let settingsQuantity = document.createElement(\"div\");\r\n    let settingsQuantityText = document.createElement(\"p\");\r\n    let settingsQuantityInput = document.createElement(\"input\");\r\n\r\n    let deleteContainer = document.createElement(\"div\");\r\n    let deleteText = document.createElement(\"p\");\r\n\r\n\r\n    /* Position des balises créées */\r\n    document.getElementById(\"cart__items\").appendChild(cartItem);\r\n    cartItem.appendChild(cartItemImg);\r\n    cartItemImg.appendChild(productImg);\r\n\r\n    cartItem.appendChild(cartItemContent);\r\n    cartItemContent.appendChild(cartItemContentDescr);\r\n    cartItemContentDescr.appendChild(cartItemContentTitle);\r\n    cartItemContentDescr.appendChild(cartItemContentColor);\r\n    cartItemContentDescr.appendChild(cartItemContentPrice);\r\n\r\n\r\n    cartItemContent.appendChild(cartItemSettings);\r\n\r\n    cartItemSettings.appendChild(settingsQuantity);\r\n    settingsQuantity.appendChild(settingsQuantityText);\r\n    settingsQuantity.appendChild(settingsQuantityInput);\r\n\r\n    cartItemSettings.appendChild(deleteContainer);\r\n    deleteContainer.appendChild(deleteText);\r\n\r\n\r\n    /* Attributs et contenu des balises créées */\r\n    cartItem.setAttribute(\"class\", \"cart__item\");\r\n    cartItem.setAttribute(\"data-id\", productId);\r\n    cartItem.setAttribute(\"data-color\", productColor);\r\n\r\n    cartItemImg.setAttribute(\"class\", \"cart__item__img\")\r\n\r\n    productImg.setAttribute(\"src\", product.imageUrl);\r\n    productImg.setAttribute(\"alt\", product.altTxt);\r\n\r\n\r\n    cartItemContent.setAttribute(\"class\", \"cart__item__content\");\r\n    cartItemContentDescr.setAttribute(\"class\", \"cart__item__content__description\")\r\n    cartItemContentTitle.textContent = product.name;\r\n    cartItemContentColor.textContent = productColor;\r\n    cartItemContentPrice.textContent = Number(product.price) + \" €\";\r\n\r\n    cartItemSettings.setAttribute(\"class\", \"cart__item__content__settings\");\r\n    \r\n    settingsQuantity.setAttribute(\"class\", \"cart__item__content__settings__quantity\");\r\n    settingsQuantityText.textContent = \"Qté : \" + productQuantity;\r\n    settingsQuantityInput.setAttribute(\"type\", \"number\");\r\n    settingsQuantityInput.setAttribute(\"class\", \"itemQuantity\");\r\n    settingsQuantityInput.setAttribute(\"name\", \"itemQuantity\");\r\n    settingsQuantityInput.setAttribute(\"min\", \"1\");\r\n    settingsQuantityInput.setAttribute(\"max\", \"100\");\r\n    settingsQuantityInput.setAttribute(\"value\", productQuantity);\r\n\r\n    deleteContainer.setAttribute(\"class\", \"cart__item__content__settings__delete\");\r\n    deleteText.setAttribute(\"class\", \"deleteItem\");\r\n    deleteText.textContent = \"Supprimer\";\r\n\r\n    /* Attributs et contenus de balises existantes */\r\n    document.getElementById(\"totalQuantity\").textContent = cartCounter;\r\n    document.getElementById(\"totalPrice\").textContent = totalPrice;\r\n\r\n        /* MODIFICATIONS DU PANIER */\r\n\r\n    /* /* Modification quantité: */\r\n    settingsQuantityInput.addEventListener(\"change\", function(e) {\r\n        /* (suppression de la quantité originale du produit dans compteur panier et prix total: ) */\r\n        cartCounter -= Number(productQuantity);\r\n        totalPrice -= Number(productQuantity) * Number(product.price);\r\n        /* (màj nouvelle quantité du produit: ) */\r\n        productQuantity = e.target.value;\r\n        settingsQuantityText.textContent = \"Qté : \" + productQuantity;\r\n        /* (màj compteur panier et prix total: ) */\r\n        cartCounter += Number(productQuantity);\r\n        totalPrice += Number(productQuantity) * Number(product.price);\r\n        document.getElementById(\"totalQuantity\").textContent = cartCounter;\r\n        document.getElementById(\"totalPrice\").textContent = totalPrice;\r\n        /* (màj local storage: ) */\r\n        console.log(\"ancienne quantité: \" + cart[cartKey]);\r\n        cart[cartKey] = productQuantity;\r\n        console.log(\"nouvelle quantité: \" + cart[cartKey]);\r\n    });\r\n    \r\n    /* Suppression d'un produit du panier: */\r\n    deleteText.addEventListener(\"click\", function(e) {\r\n        cartCounter -= Number(productQuantity);\r\n        totalPrice -= Number(productQuantity) * Number(product.price);\r\n        let cartKey = productId + \" \" + productColor;\r\n        cart.removeItem(cartKey);\r\n        document.getElementById(\"totalQuantity\").textContent = cartCounter;\r\n        document.getElementById(\"totalPrice\").textContent = totalPrice;\r\n        e.target.closest(\"article\").remove();\r\n    });\r\n\r\n    /* Suivi vérification formulaire */\r\n    let userForm = document.getElementById(\"cart__order__form\");\r\n    userForm.addEventListener(\"submit\", function(e) {\r\n\r\n        let firstName = document.getElementById(\"firstName\");\r\n        let lastName = document.getElementById(\"lastName\");\r\n        let address = document.getElementById(\"address\");\r\n        let city = document.getElementById(\"city\");\r\n        let email = document.getElementById(\"email\");\r\n\r\n        let regNames = /^[a-zA-Z-\\s\\']+$/;\r\n        let regAddress = /^[0-9]{1, 4}[,\\s]{0, 1}^[a-zA-Z-\\s\\']+$/;\r\n        let regEmail = /^[\\w]+$[@]+^[\\w]+$[.]+^[a-z]{2, 4}/;\r\n\r\n        let userInputs = new Array (firstName, lastName, address, city, email);\r\n\r\n        for (userInput of userInputs) {\r\n            console.log(\"entrée utilisateur visée: \" + userInput);\r\n\r\n            let errorInput = document.getElementById(userInput.id + \"ErrorMsg\");\r\n            let test;\r\n\r\n            if (userInput.value.trim() == \"\") {     // (trim retire les espaces au début et fin de l'input)\r\n                errorInput.textContent = \"Veuillez compléter ce champ.\";\r\n                errorInput.style.color = \"red\";\r\n                e.preventDefault();\r\n            }\r\n\r\n            else {\r\n                switch (userInput) {\r\n                    case firstName || lastName || city:\r\n                        test = regNames.test(userInput);\r\n                        if (test == false) {\r\n                            e.preventDefault();\r\n                            errorInput.textContent = \"Veuillez compléter ce champ avec des lettres, espaces, tirets et apostrophes.\";\r\n                            break;\r\n                        } else {\r\n                            /*envoi formulaire */}\r\n                    case address:\r\n                        test = regAddress.test(userInput);\r\n                        if (test == false) {\r\n                            e.preventDefault();\r\n                            errorInput.textContent = \"Veuillez compléter ce champ avec éventuellement un numéro suivi d'une virgule et d'un espace, puis des lettres, espaces, tirets et apostrophes.\";\r\n                            break;\r\n                        } else {/*envoi formulaire */}\r\n                    case email:\r\n                        test = regEmail.test(userInput);\r\n                        if (test == false) {\r\n                            e.preventDefault();\r\n                            errorInput.textContent = \"Veuillez compléter ce champ avec une adresse email à un format valide (ex: adresse@nomdedomaine.org).\";\r\n                            break;\r\n                        } else {/*envoi formulaire */}\r\n                    default:\r\n                        e.preventDefault();\r\n                        errorInput.textContent = \"Une erreur s'est produite. Veuillez réessayer plus tard.\\nSi le problème persiste, n'hésitez pas à contacter notre support.\";\r\n                    /* ajouter une partie qui envoie le formulaire si aucun champ n'est erroné ou se fait dans la partie default justement? */\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    async function testFormInput (reg, formInput) {\r\n        return reg.test(formInput);\r\n    }\r\n\r\n}\r\n\r\n/* *** ACTIONS *** */\r\n(async function() {\r\n    /* POUR CHAQUE PRODUIT DU PANIER... */\r\n    for(let i = 0; i < cart.length; i++){\r\n        /* Infos en local storage: */\r\n        var cartKey = localStorage.key(i);\r\n        var splitKey = cartKey.split(\" \");\r\n        productId = splitKey[0];\r\n        productColor = splitKey[1];\r\n        /* Quantité (inpupt): */\r\n        productQuantity = cart.getItem(cartKey);\r\n        /* Màj compteur d'items */\r\n        cartCounter += Number(productQuantity);\r\n\r\n        /* Infos serveur: */\r\n        var product = await getProduct(productId);\r\n        totalPrice += Number(productQuantity) * Number(product.price);\r\n\r\n        /* Génération contenu page au loading: */\r\n        var pageContent = await hydrateDom(product, cartCounter, totalPrice, productQuantity, cartKey);\r\n    }\r\n\r\n})()\r\n\r\n        \r\n"],"file":"cart.dev.js"}