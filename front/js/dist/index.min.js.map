{"version":3,"sources":["index.js"],"names":["getProducts","fetch","then","httpBodyResponse","json","products","displayProducts","alert","error","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","productLink","productArticle","productImg","productName","productDescription","regeneratorRuntime","async","_context2","prev","next","undefined","Symbol","iterator","done","product","value","document","createElement","href","_id","setAttribute","imageUrl","altTxt","textContent","name","description","getElementById","appendChild","t0","finish","stop","_context","awrap","sent"],"mappings":"aAAC,SAAAA,cAAA,OAAAC,MAAA,sCAAAC,KAAA,SAAAC,GAAA,OAAAA,EAAAC,SAUIF,KAAK,SAASG,GAVlB,OAAAA,IAAA,MAEGC,SAAAA,GAYIC,MAAMC,KAdb,SAAAF,gBAAAD,GAAA,IAAAI,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,IAAAb,IAAAD,GAAA,GAAAE,OAAAa,EAAAH,EAAAC,KAAA,EAAAV,EAAAP,EAAAoB,OAAAC,cAAAjB,GAAAI,EAAAD,EAAAW,QAAAI,MAAAlB,GAAA,EAAAmB,QAAAf,EAAAgB,OAADf,EAAAgB,SAAAC,cAAA,MAsBoBC,KAAO,qBAAuBJ,QAAQK,IAd7C9B,EAAiBC,SAAxB2B,cAAA,YAKKf,EAASR,SAAOuB,cAAA,QACnBG,aAAA,MAAAN,QAAAO,UARNnB,EAAAkB,aAAA,MAAAN,QAAAQ,SAYa9B,EAAgBD,SAA/B0B,cAAA,OAAAG,aAAA,KAAA,eAiBQjB,EAAYoB,YAAcT,QAAQU,MAjB1CpB,EAAAY,SAAAC,cAAA,MAAAG,aAAA,KAAA,sBAAAhB,EAAAmB,YAAAT,QAAAW,YAAAT,SAAAU,eAAA,SAAAC,YAAA3B,GAAA2B,YAAA1B,GA0BQA,EAAe0B,YAAYzB,GAzB/BD,EAAA0B,YAAAxB,GAAKW,EAAqBa,YAAAvB,GAnB7BG,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAAF,EAAAC,KAAA,EAAAD,EAAAqB,GAAArB,EAAA,MAAA,GAAAX,GAAA,EAAAC,EAAAU,EAAAqB,GAAA,KAAA,GAAArB,EAAAC,KAAA,GAAAD,EAAAC,KAAA,GAAAb,GAAA,MAAAG,EAAA,QAAAA,EAAA,SAAA,KAAA,GAAA,GAAAS,EAAAC,KAAA,GAAAZ,EAAA,MAAAC,EAAAU,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAA,OAAAF,EAAAsB,OAAA,IAAA,KAAA,GAAA,OAAAtB,EAAAsB,OAAA,IAAA,KAAA,GAAA,IAAA,MAAA,OAAAtB,EAAAuB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,GAAA,IAAA,CAAA,GAAA,CAAA,GAAA,MAAAzB,mBAAAC,MAAA,SAAAyB,GAAA,OAAA,OAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,KAAA,EAAA,OAAAsB,EAAAtB,KAAA,EAAAJ,mBAAA2B,MAC0B9C,eAD1B,KAAA,EAAAM,gBAAAuC,EAAAE,MAAA,KAAA,EAAA,IAAA,MAAA,OAAAF,EAAAD","file":"index.min.js","sourcesContent":["(async function() {\r\n    const products = await getProducts();\r\n    displayProducts(products);\r\n})()\r\n\r\nfunction getProducts() {\r\n  return fetch(\"http://localhost:3000/api/products\")\r\n    .then(function(httpBodyResponse) {\r\n      return httpBodyResponse.json();\r\n    })\r\n    .then(function(products) {\r\n        return products;\r\n    })\r\n    .catch(function(error) {\r\n        alert(error);\r\n    });\r\n}\r\n\r\nasync function displayProducts(products) {\r\n    for (product of products) {     /* (for à l'intérieur sinon la fonction ne récupère pas correctement les produits) */\r\n        /* Lien */\r\n        const productLink = document.createElement(\"a\");\r\n        productLink.href = './product.html?id=' + product._id;\r\n\r\n        /* Article */\r\n        const productArticle = document.createElement(\"article\");\r\n        \r\n        /* Image */\r\n        const productImg = document.createElement(\"img\");\r\n        productImg.setAttribute(\"src\", product.imageUrl);\r\n        productImg.setAttribute(\"alt\", product.altTxt);\r\n        \r\n        /* Nom produit */\r\n        const productName = document.createElement(\"h3\");\r\n        productName.setAttribute(\"id\", \"productName\");\r\n        productName.textContent = product.name;\r\n        \r\n        /* Description */\r\n        const productDescription = document.createElement(\"p\");\r\n        productDescription.setAttribute(\"id\",\"productDescription\");\r\n        productDescription.textContent = product.description;\r\n\r\n        /* Ajout de l'ensemble à la section items */\r\n        document.getElementById(\"items\").appendChild(productLink).appendChild(productArticle);\r\n        productArticle.appendChild(productImg);\r\n        productArticle.appendChild(productName);\r\n        productArticle.appendChild(productDescription);\r\n        \r\n    }\r\n}"]}