{"version":3,"sources":["product.js"],"names":["getProductId","URL","location","href","searchParams","get","getProduct","fetch","productId","httpBodyResponse","json","then","products","hydrateProduct","product","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","id","alert","err","error","document","getElementById","createElement","productImgContainer","productImg","setAttribute","imageUrl","altTxt","textContent","name","price","description","scrollColors","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","colors","color","newColor","append","regeneratorRuntime","async","_context","prev","awrap","sent","stop"],"mappings":"aAAC,SAAAA,eAAA,OAAA,IAAAC,IAAAC,SAAAC,MAAAC,aAAAC,IAAA,MAUD,SAASC,aAVR,OAAAC,MAAA,sCACSC,KAAAA,SADTC,GAAA,OAAAA,EAAAC,SAeMC,KAAK,SAASC,GAfpB,OAAAA,IAGGC,KAAAA,SAAAA,EAAeC,GAAf,IAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAgBM,IAAA,IAAAC,EAAAC,EAAgBR,EAAhBS,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAnBT,OAmBcD,QAAqBK,EAAAM,MAnBnCX,QAAAY,IAAAlB,EAAAM,QAAAa,MAAA,sFAGG,MAAAC,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,QAAA,IAAAb,GAAA,MAAAK,EAAA,QAAAA,EAAA,SAAA,QAAA,GAAAJ,EAAA,MAAAC,MAHH,MAAA,SAAAY,GAADF,MAAAE,KAQC,SAAAhB,eAAAC,GAED,IAASR,EAAawB,SAAAC,eAAA,aACXxB,EAAMuB,SAAAE,cAAA,OAETC,EAAOxB,YAAPyB,GAFGA,EAICC,aAAA,MAAmBrB,EAAAsB,UACrBF,EAAOtB,aAAP,MAAAE,EAAAuB,QAEgCP,SAAAC,eAAA,SAAAO,YAAAxB,EAAAyB,KAuBtCT,SAASC,eAAe,SAASO,YAAcxB,EAAQ0B,MAtBjDV,SAAAC,eAAgBnB,eAAhB0B,YAAAxB,EAAA2B,YACI,IAAAC,EAAIZ,SAActB,eAAW,UAZ1CmC,GAAA,EAAAC,GAAA,EAAAC,OAAA3B,EAAA,IAY2C,IAAA,IAAA4B,EAAAC,EAAOjC,EAAPkC,OAAA3B,OAAAC,cAAAqB,GAAAG,EAAAC,EAAAxB,QAAAC,MAAAmB,GAAA,EAAA,CAAAM,MAAAH,EAAArB,MAAgB,IAA9CyB,EACKpB,SAAAE,cAAA,UACDkB,EAAOvB,aAAO,QAAAsB,OAAwFC,EAAAZ,YAAAW,MAC7GP,EAAAS,OAAAD,IAfV,MAAAtB,GAAAgB,GAAA,EAAAC,EAAAjB,EAAA,QAAA,IAAAe,GAAA,MAAAI,EAAA,QAAAA,EAAA,SAAA,QAAA,GAAAH,EAAA,MAAAC,IARAO,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAA/B,MAAA,KAAA,EAAA,OAAA+B,EAAA/B,KAAA,EAAA6B,mBAAAI,MAC2BxD,gBAD3B,KAAA,EAAA,OAAAsD,EAAAG,KAAAH,EAAA/B,KAAA,EAAA6B,mBAAAI,MAAAlD,cAAA,KAAA,EAAAO,eAAAyC,EAAAG,MAAA,KAAA,EAAA,IAAA,MAAA,OAAAH,EAAAI","file":"product.min.js","sourcesContent":["(async function() {\r\n    const productId = await getProductId();\r\n    const product = await getProduct();\r\n    hydrateProduct(product);\r\n})()\r\n\r\nfunction getProductId () {\r\n    return new URL(location.href).searchParams.get(\"id\");\r\n}\r\n\r\nfunction getProduct() {\r\n    return fetch(\"http://localhost:3000/api/products\")\r\n      .then(function(httpBodyResponse) {\r\n        return httpBodyResponse.json();\r\n      })\r\n      .then(function(products) {\r\n          return products;\r\n      })\r\n      .then(function(products, productId) {\r\n          for (product of products) {\r\n              if (product.id == productId) {return product;}\r\n              else {\r\n                  return alert( 'Aucun produit ne corresponed à la recherche ou le produit recherché n\\'existe plus.');}\r\n          }\r\n      })\r\n      .catch(function(error) {\r\n          alert(error);\r\n      });\r\n  }\r\n\r\nfunction hydrateProduct(product) {\r\n    /* Affichage image */\r\n    const productImgContainer = document.getElementById(\"item__img\");\r\n    const productImg = document.createElement(\"img\");\r\n    productImgContainer.appendChild(productImg);\r\n    productImg.setAttribute(\"src\", product.imageUrl);\r\n    productImg.setAttribute(\"alt\", product.altTxt);\r\n\r\n    /* Affichage titre */\r\n    document.getElementById(\"title\").textContent = product.name;\r\n    /* Affichage prix */\r\n    document.getElementById(\"price\").textContent = product.price;\r\n    /* Affichage description */\r\n    document.getElementById(\"description\").textContent = product.description;\r\n\r\n    /*Menu couleurs */\r\n    const scrollColors = document.getElementById(\"colors\");\r\n    for (color of product.colors) {\r\n        const newColor = document.createElement(\"option\");\r\n        newColor.setAttribute(\"value\", color);\r\n        newColor.textContent = color;\r\n        scrollColors.append(newColor);\r\n    }\r\n}"]}