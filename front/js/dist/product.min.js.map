{"version":3,"sources":["product.js"],"names":["getProduct","fetch","then","httpBodyResponse","json","products","product","productId","URL","location","href","searchParams","get","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","_id","err","error","hydrateProduct","productImgContainer","document","getElementById","productImg","createElement","setAttribute","imageUrl","altTxt","textContent","name","price","description","scrollColors","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","colors","color","newColor","append","regeneratorRuntime","async","_context","prev","awrap","sent","stop"],"mappings":"aAAC,SAAAA,aAAA,OAAAC,MAAA,sCAAAC,KAAA,SAAAC,GAAA,OAAAA,EAAAC,SAAAF,KAAA,SAAAG,GACSC,OADTD,IAcMH,KAAK,SAASG,GAdpB,IAAAE,EAAA,IAAAC,IAAAC,SAAAC,MAAAC,aAAAC,IAAA,MAc8BC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAd9B,IAAA,IAAAC,EAAAC,EAAAb,EAAAc,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAA,GAAAP,QAAAW,EAAAM,MAAAjB,QAAAkB,KAAAjB,EAAA,OAAAD,QAc8B,MAAAmB,GAAAX,GAAA,EAAAC,EAAAU,EAAA,QAAA,IAAAZ,GAAA,MAAAK,EAAA,QAAAA,EAAA,SAAA,QAAA,GAAAJ,EAAA,MAAAC,MAd9B,MAKQf,SAAa0B,GACXzB,MAAMyB,KAAN,SAKCC,eAAStB,GALV,IAQCuB,EAAmBC,SAAAC,eAAA,aACvBC,EAAAF,SAAAG,cAAA,OACAJ,EAAuBpB,YAAYuB,GACjCA,EAAAE,aAAA,MAAA3B,EAAA4B,UAiBNH,EAAWE,aAAa,MAAO3B,EAAQ6B,QApBZN,SAAAC,eAAA,SAAAM,YAAA9B,EAAA+B,KAAAR,SAAAC,eAAA,SAAAM,YAAA9B,EAAAgC,MAIhBhC,SAAAA,eAAqB,eAAA8B,YAAA9B,EAAAiC,YAEpB,IAAAC,EAAAX,SAAAC,eAAA,UATeW,GAAA,EAAAC,GAAA,EAAAC,OAAA3B,EAAA,IASC,IAAA,IAAA4B,EAAAC,EAAAvC,EAAAwC,OAAA3B,OAAAC,cAAAqB,GAAAG,EAAAC,EAAAxB,QAAAC,MAAAmB,GAAA,EAAA,CAAAM,MAAAH,EAAArB,MACrB,IAAAyB,EAAAnB,SAAAG,cAAA,UAPoBgB,EAAAf,aAAA,QAAAc,OAAAC,EAAAZ,YAAAW,MAAAP,EAAAS,OAAAD,IAHA,MAAAvB,GAAAiB,GAAA,EAAAC,EAAAlB,EAAA,QAAA,IAAAgB,GAAA,MAAAI,EAAA,QAAAA,EAAA,SAAA,QAAA,GAAAH,EAAA,MAAAC,IAX9BO,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAA/B,MAAA,KAAA,EAAA,OAAA+B,EAAA/B,KAAA,EAAA6B,mBAAAI,MACyBtD,cADzB,KAAA,EAAA2B,eAAAyB,EAAAG,MAAA,KAAA,EAAA,IAAA,MAAA,OAAAH,EAAAI","file":"product.min.js","sourcesContent":["(async function() {\r\n    const product = await getProduct();\r\n    hydrateProduct(product);\r\n})()\r\n\r\nfunction getProduct() {\r\n    return fetch(\"http://localhost:3000/api/products\")\r\n      .then(function(httpBodyResponse) {\r\n        return httpBodyResponse.json();\r\n      })\r\n      /* récupération de l'ensemble des produits: */\r\n      .then(function(products) {\r\n          return products;\r\n      })\r\n      .then(function(products) {\r\n        /* récupération id dans l'url: */\r\n        const productId =  new URL(location.href).searchParams.get(\"id\");\r\n          /* recherche du produit correspondant: */\r\n          for (product of products) { \r\n              if (product._id == productId) {  \r\n                return product;}\r\n          }\r\n      })\r\n      .catch(function(error) {\r\n          alert(error);\r\n      });\r\n  }\r\n\r\nfunction hydrateProduct(product) {\r\n    /* Affichage image */\r\n    const productImgContainer = document.getElementById(\"item__img\");\r\n    const productImg = document.createElement(\"img\");\r\n    productImgContainer.appendChild(productImg);\r\n    productImg.setAttribute(\"src\", product.imageUrl);\r\n    productImg.setAttribute(\"alt\", product.altTxt);\r\n\r\n    /* Affichage titre */\r\n    document.getElementById(\"title\").textContent = product.name;\r\n    /* Affichage prix */\r\n    document.getElementById(\"price\").textContent = product.price;\r\n    /* Affichage description */\r\n    document.getElementById(\"description\").textContent = product.description;\r\n\r\n    /*Menu couleurs */\r\n    const scrollColors = document.getElementById(\"colors\");\r\n    for (color of product.colors) {\r\n        const newColor = document.createElement(\"option\");\r\n        newColor.setAttribute(\"value\", color);\r\n        newColor.textContent = color;\r\n        scrollColors.append(newColor);\r\n    }\r\n}"]}