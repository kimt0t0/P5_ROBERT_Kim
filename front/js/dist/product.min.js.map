{"version":3,"sources":["product.js"],"names":["getProduct","regeneratorRuntime","async","_context2","prev","next","abrupt","fetch","then","httpBodyResponse","json","products","productId","URL","location","href","searchParams","get","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","hydrateProduct","product","_step","value","_id","err","_iterator","error","alert","stop","productImgContainer","productImg","scrollColors","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","newColor","_context3","document","getElementById","createElement","appendChild","setAttribute","imageUrl","altTxt","textContent","name","description","colors","Symbol","iterator","done","color","append","t0","finish","_context","awrap","sent","Cart","_classCallCheck","this","inventory","localStorage","itemsCounter","itemsList","totalPrice","cart","cartProduct","quantity","addEventListener","e"],"mappings":"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","file":"product.min.js","sourcesContent":["/* CONTENU PARTIE PRODUIT */\r\n(async function() {\r\n    var product = await getProduct();\r\n    hydrateProduct(product);\r\n})()\r\n\r\nasync function getProduct() {\r\n    return fetch(\"http://localhost:3000/api/products\")\r\n      .then(function(httpBodyResponse) {\r\n        return httpBodyResponse.json();\r\n      })\r\n      /* récupération de l'ensemble des produits: */\r\n      .then(function(products) {\r\n        /* récupération id dans l'url: */\r\n        var productId =  new URL(location.href).searchParams.get(\"id\");\r\n          /* recherche du produit correspondant: */\r\n          for (product of products) { \r\n              if (product._id == productId) {  \r\n                return product;}\r\n          }\r\n      })\r\n      .catch(function(error) {\r\n          alert(error);\r\n      });\r\n  }\r\n\r\nasync function hydrateProduct(product) {\r\n    /* Affichage image */\r\n    var productImgContainer = document.getElementById(\"item__img\");\r\n    var productImg = document.createElement(\"img\");\r\n    productImgContainer.appendChild(productImg);\r\n    productImg.setAttribute(\"src\", product.imageUrl);\r\n    productImg.setAttribute(\"alt\", product.altTxt);\r\n\r\n    /* Affichage titre */\r\n    document.getElementById(\"title\").textContent = product.name;\r\n    /* Affichage prix */\r\n    document.getElementById(\"price\").textContent = product.price;\r\n    /* Affichage description */\r\n    document.getElementById(\"description\").textContent = product.description;\r\n\r\n    /*Menu couleurs */\r\n    var scrollColors = document.getElementById(\"colors\");\r\n    for (color of product.colors) {\r\n        var newColor = document.createElement(\"option\");\r\n        newColor.setAttribute(\"value\", color);\r\n        newColor.textContent = color;\r\n        scrollColors.append(newColor);\r\n    }\r\n}\r\n\r\n/* GESTION PANIER */\r\n\r\n/* Classe pour l'objet panier */\r\nclass Cart {\r\n    constructor () {\r\n        this.inventory = localStorage;\r\n        this.itemsCounter = 0;\r\n        this.itemsList = {};\r\n        this.totalPrice = 0;\r\n    }\r\n\r\n    /* fonction pour vérifier si un objet est déjà présent dans le panier */\r\n\r\n    /* fonction pour créer un nouvel objet dans le panier */\r\n\r\n    /* fonction pour ajouter une quantité à un objet existant dans le panier */\r\n}\r\n\r\nlet cart = Cart();\r\n\r\nclass cartProduct {\r\n    constructor(_id, color, quantity) {\r\n        this._id = _id ; /* ou utiliser le nom ? */\r\n        this.color = color;\r\n        this.quantity = quantity;\r\n    }\r\n}\r\n\r\n/* Déclenchement de la fonction d'ajout */\r\ndocument.getElementById(\"addToCart\").addEventListener(\"click\", function(e) {\r\n    /* CRÉER DES FONCTIONS DISTINCTES POUR CE QUI SUIT? : */\r\n    /* récupérer l'id du produit et stocker dans var _id*/\r\n\r\n    /* récupérer la couleur et stocker dans var color */\r\n\r\n    /* récupérer la quantité et stocker dans var quantity */\r\n\r\n    /* créer un objet newProduct */\r\n\r\n    /* ajouter le produit / la quantité au panier */\r\n});\r\n\r\n"]}