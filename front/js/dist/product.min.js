"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function getProduct(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("http://localhost:3000/api/products").then(function(t){return t.json()}).then(function(t){var e=new URL(location.href).searchParams.get("id"),n=!0,r=!1,o=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done);n=!0)if(product=c.value,product._id==e)return product}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}).catch(function(t){alert(t)}));case 1:case"end":return t.stop()}})}function hydrateProduct(e){var n,r,o,c,a,u,i,s,l;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=document.getElementById("item__img"),r=document.createElement("img"),n.appendChild(r),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.altTxt),document.getElementById("title").textContent=e.name,document.getElementById("price").textContent=e.price,document.getElementById("description").textContent=e.description,o=document.getElementById("colors"),a=!(c=!0),u=void 0,t.prev=12,i=e.colors[Symbol.iterator]();!(c=(s=i.next()).done);c=!0)color=s.value,(l=document.createElement("option")).setAttribute("value",color),l.textContent=color,o.append(l);t.next=20;break;case 16:t.prev=16,t.t0=t.catch(12),a=!0,u=t.t0;case 20:t.prev=20,t.prev=21,c||null==i.return||i.return();case 23:if(t.prev=23,a)throw u;t.next=26;break;case 26:return t.finish(23);case 27:return t.finish(20);case 28:case"end":return t.stop()}},null,null,[[12,16,20,28],[21,,23,27]])}regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(getProduct());case 2:hydrateProduct(t.sent);case 4:case"end":return t.stop()}});var Cart=function t(){_classCallCheck(this,t),this.inventory=localStorage,this.itemsCounter=0,this.itemsList={},this.totalPrice=0},cart=new Cart,cartProduct=function t(e,n,r){_classCallCheck(this,t),this._id=e,this.color=n,this.quantity=r};function getProductId(t){return console.log(t._id),t._id}function getProductColor(){var t=document.getElementById("colors"),e=t.selectedIndex,n=t.options[e].value;return console.log(n),n}function getProductQuantity(){var t=document.getElementById("quantity").value;return console.log(t),t}document.getElementById("addToCart").addEventListener("click",function(){var e,n,r,o;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("clic enregistr√©"),e=getProductId(product),console.log(e),n=getProductColor(),console.log(n),r=getProductQuantity(),console.log(r),o=cartProduct(e,n,r),console.log(o);case 9:case"end":return t.stop()}})});
//# sourceMappingURL=product.min.js.map
