"use strict";function getProduct(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("http://localhost:3000/api/products").then(function(t){return t.json()}).then(function(t){var e=new URL(location.href).searchParams.get("id"),r=!0,n=!1,o=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done);r=!0)if(product=c.value,product._id==e)return product}catch(t){n=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}).catch(function(t){alert(t)}));case 1:case"end":return t.stop()}})}function hydrateProduct(e){var r,n,o,c,a,u,i,d,s;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=document.getElementById("item__img"),n=document.createElement("img"),r.appendChild(n),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.altTxt),document.getElementById("title").textContent=e.name,document.getElementById("price").textContent=e.price,document.getElementById("description").textContent=e.description,o=document.getElementById("colors"),a=!(c=!0),u=void 0,t.prev=12,i=e.colors[Symbol.iterator]();!(c=(d=i.next()).done);c=!0)color=d.value,(s=document.createElement("option")).setAttribute("value",color),s.textContent=color,o.append(s);t.next=20;break;case 16:t.prev=16,t.t0=t.catch(12),a=!0,u=t.t0;case 20:t.prev=20,t.prev=21,c||null==i.return||i.return();case 23:if(t.prev=23,a)throw u;t.next=26;break;case 26:return t.finish(23);case 27:return t.finish(20);case 28:case"end":return t.stop()}},null,null,[[12,16,20,28],[21,,23,27]])}regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(getProduct());case 2:hydrateProduct(t.sent);case 4:case"end":return t.stop()}});var cart=localStorage;function getProductId(t){return t._id}function getProductColor(){var t=document.getElementById("colors"),e=t.selectedIndex;return t.options[e].value}function getProductQuantity(){return document.getElementById("quantity").value}function cartKey(t,e){return t+" "+e}function addToCart(t,e){cart[t]?cart[t]+=e:cart[t]=e,console.log(cart)}document.getElementById("addToCart").addEventListener("click",function(){var e,r,n;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:e=getProductId(product),r=getProductColor(),n=getProductQuantity(),addToCart(cartKey=cartKey(e,r),n);case 5:case"end":return t.stop()}})});
//# sourceMappingURL=product.min.js.map
